var TableEditing={setupColumningOrdering:function(a,k){for(var d=1<=a.tHead.rows.length?a.tHead.rows[0].cells:[],b=0;b<d.length;b++)(function(){var c=null,e=null;$(d[b]).on("mouseup.resultsColumnOrdering",function(a){e&&(clearTimeout(e),e=null)}).on("mousedown.resultsColumnOrdering",function(b){if(1!=b.which)return!0;if((void 0===k||k)&&!$(b.target).hasClass("noDrag")||!$(b.target).hasClass("editMode")){b.preventDefault();var g=this.cellIndex;e=setTimeout(function(){c=$(document.createElement("table"));
c[0].className=a.className;c[0].className+=" draggableColumn";if(a.tHead){for(var e=$(document.createElement("thead")),d=0;d<a.tHead.rows.length;d++){var f=a.tHead.rows[d],l=$(document.createElement("tr"));l[0].className=f.className;var m=$(document.createElement("th"));m.css("height",$(f.cells[0]).height()+"px");m[0].className=f.cells[0].className;g<f.cells.length&&(m.html($(f.cells[g]).html()),$(f.cells[g]).addClass("moving"));l.append(m);e.append(l)}c.append(e)}c.css({height:$(a.rows[0]).height()+
"px",width:g<a.rows[0].cells.length?$(a.rows[0].cells[g]).outerWidth()+"px":"auto","z-index":99999});for(e=0;e<a.tBodies.length;e++){m=a.tBodies[e];var n=$(document.createElement("tbody"));for(d=0;d<m.rows.length;d++){f=m.rows[d];l=$(document.createElement("tr"));l[0].className=f.className;var p=$(document.createElement("td"));p.css("height",$(f.cells[0]).height()+"px");p[0].className=f.cells[0].className;g<f.cells.length&&(p.html($(f.cells[g]).html()),$(f.cells[g]).addClass("moving"));l.append(p);
n.append(l)}c.append(n)}var h=$(a).offset();g<a.rows[0].cells.length&&(h.left=$(a.rows[0].cells[g]).offset().left);c.css({cursor:"move",position:"absolute",left:h.left,top:h.top});$(document.body).append(c);var q=b.pageX,r=b.pageY;$(document).on("mousemove.resultsColumnOrdering",function(a){h.left+=a.pageX-q;h.top+=a.pageY-r;q=a.pageX;r=a.pageY;c.css({left:h.left,top:h.top})});$(document,c).on("mouseup.resultsColumnOrdering",function(b){$(document,c).off("mouseup.resultsColumnOrdering");if(c){b=k?
1:0;for(var e=c.offset().left;b<a.rows[0].cells.length&&$(a.rows[0].cells[b]).offset().left<e;b++);e=b==a.rows[0].cells.length;if(b!=g){b>g&&b--;for(var d=0;d<a.rows.length;d++){var f=$(a.rows[d].cells[g]).detach();e?f.appendTo(a.rows[d]):f.insertBefore(a.rows[d].cells[b])}}$(document).off("mousemove.resultsColumnOrdering");c.remove();c=null;$(a).find("*").removeClass("moving")}})},250);return!0}})})()},editColumns:function(a,k,d){a=1<=a.tHead.rows.length?a.tHead.rows[0].cells:[];0<a.length&&$(a[0]).height();
for(var b=0;b<a.length;b++)if(-1==$.inArray(b,d)){var c=$(a[b]),e=c.clone();e=$("<pre>"+e.html().replace(/<br[^>]*\/?>/g,"\n")+"</pre>").text();var n=$(document.createElement("textarea"));n.text(e).css({width:Math.max(c.width()+10,75)+"px",height:"70px"}).on("click",function(a){a.stopPropagation();return!0}).on("mousedown",function(a){a.stopPropagation();return!0});c.text("").append(n);c.append(document.createElement("br"));c.append($('<label style="margin:"><input type="checkbox" class="checkbox"'+
(-1!=$.inArray(b,k)?'checked="checked"':"")+"/> Hide</label>").on("click",function(a){a.stopPropagation();return!0}).on("mousedown",function(a){a.stopPropagation();return!0}))}},stopEditingColumns:function(a){var k=[];a=1<=a.tHead.rows.length?a.tHead.rows[0].cells:[];for(var d=0;d<a.length;d++){var b=$(a[d]),c=b.find("textarea"),e={text:c.val(),hidden:1==b.find("input:checked").length};b.html(htmlspecialchars(e.text).replace("\n","<br/>"));c.remove();k.push(e)}return k}};

//6c2f871214a0c4ab4465b5eed99f2ce2
