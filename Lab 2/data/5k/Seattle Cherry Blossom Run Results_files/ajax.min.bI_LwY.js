ajaxLoginRedirect="/home.php";
function ajaxLogin2(a,l){var g=a.find(".loginMainError").empty(),c=a.find("div[data-type='login-email-pass']").find("input"),m=c.filter("[type='email']"),h=c.filter("[type='password']");c=m.val();h=h.val();if(""==c||""==h)error="Enter your email address and password.",0<g.length?g.text(error):showError(error);else{var n=$("#not-signed-in"),d=n.data("top-links-type");d="/AJAX/Login?htmlType="+encodeURIComponent(d);null==l&&(d+="&skipData=T");d=urlAddSessionParams(d);c={email:c,password:h};c.mfaToken=
m.closest("form").find("input[name='mfaToken']").val();a.find("input[name='rememberMe']").prop("checked")&&(c.rememberMe="T");$.ajax({url:d,type:"POST",dataType:"json",data:c}).done(function(b){if("F"==b.success){var e=!0,p=!!b.mfa,k=a.find("input[name='mfaToken']"),r=k.closest(".formInput");p&&null===b.error&&1===k.length&&(r.slideDown().attr("aria-hidden","false"),e=!1);k.prop("disabled",!p);e&&(0<g.length?(g.text(b.error),b.errorHtml&&g.html(b.errorHtml)):e(b.error))}else if(null!=l){try{b.userTopLinks&&
n.replaceWith($.parseHTML(b.userTopLinks))}catch(u){}l(b)}else setWindowLocation(ajaxLoginRedirect)}).fail(function(b){showError("Failed to log in.  HTTP Request Failed.")})}}
function ajaxPasswordReset(a){var l=a.find(".jsForgotPwBtn"),g=$("#login-welcome-title"),c=a.find(".remember-me"),m=a.find("div.forgottenPasswordInstructions"),h=a.find(".error"),n=a.find(".fbLogin"),d=a.find(".resetEmail"),b=a.find(".submit"),e=a.find(".reset"),p=a.find(".popupTitle"),k=a.find(".backToLogin"),r=a.find(".register"),u=a.find(".passForm"),w=a.find("input[name='email']"),x=a.find("#emailDiv"),y=$("#backToFundraiserStart"),q=a.find(".ajaxStatus").last();b.hide();l.hide();e.show();p.html("Reset Password");
r.hide();u.hide();g.hide();c.hide();m.show();k.show();h.html("");n.hide();d.show();b.hide();e.show();y.exists()&&y.hide();a.find(".reset").off("click.resetPswd").on("click.resetPswd",function(f){f.preventDefault();var t=h.last();f=w.val();""===f?t.text("Email address is required."):(q.html("Submitting\u2026").show(),$.ajax({type:"POST",url:"/PasswordReset",data:{email:f},dataType:"json"}).done(function(v){v.error?(q.hide(),t.text(v.message)):(x.hide(),e.hide(),m.hide(),t.text(""),q.text(v.message))}).fail(function(){q.hide();
t.text("There was an error requesting a password reset.")}))});a.find("input[name='email']").on("keypress.pswdReset",function(f){13==f.keyCode&&(e.triggerHandler("click"),f.preventDefault())});k.click(function(f){f.preventDefault();p.html("Sign In");g.show();c.show();r.show();u.show();m.hide();k.hide();l.show();h.html("");b.show();e.hide();n.show();d.hide();w.off("keypress.pswdReset");x.show();q.text("").hide()})};

//4fb1889d96acc578292e705ef60ae817
